<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Event Management</title>
</head>
<body>
    <h2>Add Event</h2>
    <form action="Events.php" method="POST">
        <label for="eventName">Event Name:</label><br>
        <input type="text" id="eventName" name="eventName" required><br><br>

        <label for="desc">Description:</label><br>
        <input type="text" id="desc" name="desc" required><br><br>

        <label for="location">Description:</label><br>
        <input type="text" id="location" name="location" required><br><br>

        <label for="capacity">Description:</label><br>
        <input type="number" id="capacity" name="capacity" required><br><br>

        <label for="organiser">Description:</label><br>
        <input type="text" id="organiser" name="organiser" required><br><br>
        <input type="submit" value="Add Event">
    </form>

    <h2>Delete Event</h2>
    <form action="deleteEvents.php" method="POST">
        <label for="event_id">select event to delete:</label><br>
        <select id="event_id" name="event_id">
        
        </select><br><br>
        <input type="submit" value="Delete Event">   
        <?php
            include 'Database.php';

            //retrieving event ids and names
            $sql = "SELECT event_id, event_name FROM events";
            $result = $conn->query($sql);

            // filling drop down with events if they're any
            if ($result->num_rows > 0) {
                while($row = $result->fetch_assoc()) {
                    echo "<option value='". $row["event_id"] ."'>". $row["eventname"] ."</option>";
                }
            } else {
                echo "<option disabled>no events found</option>";
            }

            $conn->close();
        ?>
        </select><br><br>
        <input type="submit" value="Delete Event">
    </form> 
    
    

</body>
</html>