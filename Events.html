<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Event Management</title>
</head>
<body>
    <main>

    <section>
        <h4>Language selection</h4>
        <div id="google_translate_element"></div> <!-- Google Translate widget will appear here -->  
    </section>

    <header>
        <nav>
            <ul>
                <li><a href="index.php">Home</a></li>
                <li><a href="SignUp.php">Sign Up</a></li>
                <li><a href="Login.php">Login</a></li>

            </ul>
        </nav>
    </header>
    
    <h2>Add Event</h2>
    <form action="Events.php" method="POST">
        <label for="eventName">Event Name:</label><br>
        <input type="text" id="eventName" name="eventName" required><br><br>

        <label for="desc">Description:</label><br>
        <input type="text" id="desc" name="desc" required><br><br>

        <label for="location">Location:</label><br>
        <input type="text" id="location" name="location" required><br><br>

        <label for="capacity">Capacity:</label><br>
        <input type="number" id="capacity" name="capacity" required><br><br>

        <label for="organiser">Organsier:</label><br>
        <input type="text" id="organiser" name="organiser" required><br><br>

       
        <label for="incomeGroup">Income Group:</label><br>
        <input type="number" id="incomeGroup" name="incomeGroup" required><br><br>

        <input type="submit" value="Add Event">
    </form>

    <h2>Delete Event</h2>
    <form action="deleteEvents.php" method="POST">
        <label for="event_id">select event to delete:</label><br>
        <select id="event_id" name="event_id">
        
        </select><br><br>
        <?php
            include 'Database.php';

            //retrieving event ids and names
            $sql = "SELECT event_id, event_name FROM events";
            $result = $conn->query($sql);

            // filling drop down with events if they're any
            if ($result->num_rows > 0) {
                while($row = $result->fetch_assoc()) {
                    echo "<option value='". $row["event_id"] ."'>". $row["eventname"] ."</option>";
                }
            } else {
                echo "<option disabled>no events found</option>";
            }

            $conn->close();
        ?>
        </select><br><br>
        <input type="submit" value="Delete Event">
    </form> 
    
    
    </main>

     <!-- Google Translate -->
     <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'zh-CN,ms,es,en,fr',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <!-- End Google Translate -->

</body>
</html>